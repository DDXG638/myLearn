<!DOCTYPE html>
<html>
<head>
	<title>跨域请求</title>
</head>
<body>
<h1>3000端口</h1>
<button class="getInfo">点击跨域获取数据（CORS）</button>
<hr>
<textarea class="tt">123</textarea>

<script src='js/jquery-3.2.1.min.js'></script>
<script type="text/javascript">
	/*var xhr = new XMLHttpRequest();
	xhr.withCredentials = true;*/
	$(".getInfo").on("click", function () {
		$.ajax({
			url: 'http://localhost:4000/getInfo3',
			type: 'POST',
			dataType: 'json',
			xhrFields: {
				withCredentials: true
			}, 
			success: function (res, textStatus, xhr) {
				console.log(xhr.getResponseHeader("Content-Length"));
				$('.tt').text(JSON.stringify(res));
			}
		});
	});
</script>
</body>
</html>